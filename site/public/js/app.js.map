{"version":3,"sources":["webpack:///./site/react/index.jsx","webpack:///./site/react/sidebar.jsx","webpack:///./site/react/header.jsx","webpack:///./site/react/header_wrapper.jsx","webpack:///./site/react/widgets/search_input_field.jsx","webpack:///./site/react/lib/constants.jsx","webpack:///./site/react/footer.jsx","webpack:///./site/react/item/item_display.jsx","webpack:///./site/react/item/title.jsx","webpack:///./site/react/item/sparql_search.jsx","webpack:///./site/react/widgets/modal_trigger.jsx","webpack:///./site/react/item/sparql_results.jsx","webpack:///./site/react/widgets/github_issue.jsx","webpack:///./site/react/lib/helpers.jsx","webpack:///./site/react/item/mapping.jsx","webpack:///./site/react/widgets/content_modal.jsx"],"names":["SEARCH_DATA","name","endpoint","predicate","prefix","E39_Actor","default","E5_Event","App","createClass","getInitialState","loading","modal","show","fields","entity_uri","componentDidMount","ajax","getJSON","ENTITY_TYPE","done","initializeData","fail","x","msg","console","log","data","defaultSectionId","window","location","hash","setHashValues","getHashValues","id","search","addEventListener","handleNewHash","fieldSortFunction","a","b","sort_order","setState","sort","obj","undefined","state","currentItem","search_index","findIndex","v","bits","replace","split","Number","showModal","content","title","html","render","currentSearchEndpoint","find","currentFields","val","document","getElementById","Sidebar","_this","items","props","map","field","index","mandatory","description","category","gotoField","applies_to","SidebarListItem","handleClick","func","classes","selected","header","prev_category","badges","desc","Header","modalLoading","setEntityUri","getCurrentEntityURI","componentDidUpdate","prevProps","searchAgainst","loadObjectData","e","type","target","post","generateObjectData","handleDataReturn","_","errorText","error","showObjectGraph","el","objIndex","crm","values","entity_type","return_type","sourceButtons","source","setSearch","topButtons","bottomButtons","ENTITY_FIELD_NAME","children","bottomButtonsLabel","topButtonsLabel","value","handleChange","handleKeyDown","keyCode","preventDefault","componentWillReceiveProps","nextProps","id_val","placeholder","default_value","the_input","the_link","the_label","stacked","y","Date","getFullYear","copyright_year","multiples","long_description","example","lod_type","construct","graph_extras","lod_terms","count","i","SparqlSearch","results","isSearching","autoSearch","currentEntity","serializeArray","doSearch","forEach","submission","select","where","handleResults","cols","filter","input_boxes","field_name","query_fields","length","the_title","text","columns","table_headers","select_item","table_rows","result","cells","key","test","object","issueTitle","encodeURIComponent","issueBody","query","issueLinkUrl","truncate","str","len","predicates","Object","assign","keys","includes","substring","ItemMapping","svg","getSvg","ttl","extras","svg_url","svgImage","btn","fieldTitle","ContentModal","modalProps","m1","m2","contentObj","__html","onHide"],"mappings":"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","file":"app.js","sourcesContent":["// Import Libraries\nimport $           from \"jquery\";\nimport React       from 'react';\nimport {render}    from 'react-dom';\n\n// Import Components\nimport Sidebar     from './sidebar.jsx';\nimport Header      from \"./header.jsx\";\nimport Footer      from \"./footer.jsx\";\nimport ItemDisplay from \"./item/item_display.jsx\";\nimport ContentModal from \"./widgets/content_modal.jsx\";\n\n\n//-----------------------------------------------------------------------------\n// This is the known set of RDF endpoints that we can search against.   \n\nconst SEARCH_DATA = [\n  {\n    name:           \"YCBA\", \n    endpoint:       \"http://collection.britishart.yale.edu/openrdf-sesame/repositories/ycba\",\n    predicate:      \"http://erlangen-crm.org/current/\",\n    prefix:         {\"ycba\": \"http://collection.britishart.yale.edu/\"},\n    E39_Actor: {\n      default:  null\n    },\n    E39_Actor: {\n      default:  \"http://collection.britishart.yale.edu/id/page/person/institution/1281\"\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://collection.britishart.yale.edu/id/object/1000\"  \n    },\n    E5_Event: {\n      default: \"http://collection.britishart.yale.edu/id/exhibition/851\"\n    }\n  },\n  {\n    name:           \"SAAM\", \n    endpoint:       \"http://edan.si.edu/saam/sparql\",\n    predicate:      \"http://www.cidoc-crm.org/cidoc-crm/\",\n    prefix:         {\"saam\": \"http://edan.si.edu/saam/\"},\n\n    E39_Actor: {\n      default:  \"http://edan.si.edu/saam/id/person-institution/5880\"\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://edan.si.edu/saam/id/object/1991.189\"  \n    },\n    E5_Event: {\n      default: \"http://edan.si.edu/saam/id/object/1991.189/production\"\n    }\n  },\n  {\n    name:           \"AAC\", \n    endpoint:       \"http://lodstories.isi.edu:3030/american-art/query\",\n    predicate:      \"http://www.cidoc-crm.org/cidoc-crm/\",\n    prefix:         {\"npg\": \"http://americanartcollaborative.org/npg/\"},\n\n    E39_Actor: {\n      default: \"http://collection.britishmuseum.org/id/person-institution/70240\"\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://americanartcollaborative.org/puam/object/102991\"\n    },\n    E5_Event: {\n      default: \"http://collection.britishmuseum.org/id/object/PIC134418/production\"\n    }\n  },\n  {\n    name:           \"British Museum\", \n    endpoint:       \"http://collection.britishmuseum.org/sparql\",\n    predicate:      \"http://erlangen-crm.org/current/\",\n    prefix:         {\"bm\": \"http://collection.britishmuseum.org/\"},\n\n    E39_Actor: {\n      default: \"http://collection.britishmuseum.org/id/person-institution/70240\"\n    },\n    \"E22_Man-Made_Object\": {\n      default: \"http://collection.britishmuseum.org/id/object/YCA62958\"\n    },\n    E5_Event: {\n      default: \"http://collection.britishmuseum.org/id/object/PIC134418/production\"\n    }\n  }\n]\n\n//-----------------------------------------------------------------------------\n// This is the \"brains\" of the application.  It controls the global state of\n// the system, which includes navigation and loading the data in.\nvar App = React.createClass({\n  \n  // Lifecycle Events\n  getInitialState: function() {\n    return {\n      loading: true,           // Has the application gotten the main data?\n      modal: {\n        show:false,            // Is the modal visible?\n      },\n      fields: null,             // This will be filled in with the field list\n      entity_uri: null\n    }\n  },\n\n  componentDidMount: function() {\n    let ajax = $.getJSON(\"/data?entity_type=\"+ENTITY_TYPE);\n    ajax.done(this.initializeData);\n    ajax.fail((x,msg)=> console.log(`Error getting json: ${msg}`));\n  },\n\n  //-------------------------------\n  // Handle initial field data load, \n  // set up the hash navigation\n  initializeData: function(data) { \n \n     // Setup Hash Navigation\n    let defaultSectionId = 0;\n    if (window.location.hash) {\n      this.setHashValues(this.getHashValues());\n    }\n    else {\n      this.setHashValues({id: 0, search: SEARCH_DATA[0].name});\n    }\n    window.addEventListener('hashchange', this.handleNewHash, false);\n\n    // Update state with the field data\n    let fieldSortFunction = function(a,b) {\n      return (a.sort_order || 0) >= (b.sort_order || 0) ? 1 : -1;\n    }\n    this.setState({\n      loading: false, \n      fields: data.sort(fieldSortFunction)\n    });\n  },\n\n  setHashValues: function(obj) {\n    if (obj.id == undefined) {\n      obj.id = this.state.currentItem;\n    } else {\n      this.setState({currentItem: obj.id});\n    }\n\n    if (obj.search == undefined) {\n      obj.search = this.state.search;\n    } else {\n      this.setState({search: obj.search});\n    }\n    let search_index = SEARCH_DATA.findIndex((v) => v.name == obj.search);\n    window.location.hash = `field_${obj.id}-search_${search_index}`;\n  },\n  getHashValues: function() {\n    let bits = window.location.hash.replace(\"#\",\"\").split(\"-\")\n    let id   = Number(bits[0].replace(\"field_\",\"\"))\n    let search  = SEARCH_DATA[Number(bits[1].replace(\"search_\",\"\"))].name;\n    return {id: id, search: search}\n  },\n  //-------------------------------\n  // Handle hash changes (for back button)\n  handleNewHash: function() {\n    this.setHashValues(this.getHashValues());\n  },\n\n  //-------------------------------\n  // Handle showing the global modal.  \n  // TODO:  This is probably the wrong layer to keep this in.\n  showModal: function (content, title=\"\", html=false) {\n    this.setState({modal: {content: content, title: title, show: true, html: html}});\n  },\n  \n  // Render function\n  render: function() {\n    if (this.state.loading) {return false;}\n\n    let currentSearchEndpoint = SEARCH_DATA.find((endpoint)=>(this.state.search == endpoint.name))\n    let currentFields = this.state.fields[this.state.currentItem]\n    \n    return (\n      <main>\n        <Header \n            searchAgainst=   {this.state.search}\n            data=            {SEARCH_DATA} \n            setSearch=       {(val) => this.setHashValues({search: val})}\n            showObjectGraph= {this.showModal}\n            setEntityUri=    {(val) => this.setState({entity_uri: val})}\n        />\n        <div className='container-fluid'>\n          <div className=\"row\">\n            <Sidebar \n                fields=      {this.state.fields} \n                gotoField=   {(id) => this.setHashValues({id: id})}\n                currentItem= {this.state.currentItem}\n             />\n            <ItemDisplay   \n                {...currentFields} \n                search={currentSearchEndpoint} \n                showModal={this.showModal}\n                currentEntity={this.state.entity_uri}\n            />\n          </div>\n        </div>\n        <ContentModal \n            {...this.state.modal}\n            search= {currentSearchEndpoint}\n            onHide= {() => this.setState({ modal: {show: false }})} />\n        <Footer/>\n      </main>\n    )\n  }\n});\n\n//-----------------------------------------------------------------------------\nrender(\n  <App />,\n  document.getElementById('app')\n);\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/index.jsx\n **/","import React from 'react';\nimport classNames from 'classnames';\n\n//-----------------------------------------------------------------------------\nvar Sidebar = React.createClass({\n  render: function() {\n\n    var _this = this;\n\n    var items = this.props.fields.map(function(field, index) {\n       return <SidebarListItem  \n          id={index} \n          name={field.title} \n          mandatory={field.mandatory}\n          desc={field.description}\n          key={`${field.category}_${field.title}`} \n          func={_this.props.gotoField}\n          applies_to={field.applies_to}\n          category={field.category}\n          prev_category={index == 0 ? \"\" : _this.props.fields[index-1].category}\n          selected={index == _this.props.currentItem}\n        />\n    });\n\n    return (\n      <div className=\"col-md-3 col-lg-2 sidebar hidden-print\">\n        <dl>\n          {items}\n        </dl>\n        <div className=\"sidebar_legend\">(üîπ indicates a mandatory field)</div>\n      </div>\n    )\n  }\n})\n\n//-----------------------------------------------------------------------------\nvar SidebarListItem = React.createClass({\n  handleClick: function() {\n    this.props.func(this.props.id);\n  },\n  render: function() {\n\n    let classes = classNames(\n      \"sidebar_item\",\n      {selected: this.props.selected}\n    );\n\n    let header = false\n    if (this.props.category != this.props.prev_category) {\n      header = (<h5> {this.props.category} </h5>)\n    }\n\n    let badges = this.props.mandatory ? \"üîπÔ∏è\" : \"\"\n\n    return ( \n        <div>\n          {header}\n          <div className={classes} onClick={this.handleClick}>\n            <dt> {this.props.name} <span className=\"\">{badges}</span></dt>\n            <dd> {this.props.desc} </dd> \n          </div>\n        </div>\n    );\n  }\n})\n\n//-----------------------------------------------------------------------------\nexport default Sidebar;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/sidebar.jsx\n **/","import React from 'react';\nimport { Button, ButtonGroup} from 'react-bootstrap';\nimport $ from \"jquery\";\nimport HeaderWrapper    from \"./header_wrapper.jsx\"\nimport SearchInputField from './widgets/search_input_field.jsx'\nimport Constants        from './lib/constants.jsx'\n\nconst Header = React.createClass({\n\n  getInitialState: function() {\n    return {modalLoading: false}\n  },\n  componentDidMount: function() {\n    this.props.setEntityUri(this.getCurrentEntityURI()); \n  },\n\n  componentDidUpdate: function(prevProps) {\n    if (prevProps.searchAgainst != this.props.searchAgainst) {\n      this.props.setEntityUri(this.getCurrentEntityURI()); \n    }\n  },\n\n  loadObjectData: function(e) {\n    if (this.state.modalLoading) {return false;}\n    this.setState({modalLoading: true});\n    const type = $(e.target).data('type');\n    const title = $(e.target).data('modal-title');\n    const html = type == \"report\"\n    let ajax = $.post(\"/full_graph\",this.generateObjectData(type), \"text\");\n    ajax.done((data) => this.handleDataReturn(data,title,html));\n    ajax.fail((_,errorText,error) => {\n      this.props.showObjectGraph(error);\n      this.setState({modalLoading: false})\n    })\n  },\n  getCurrentEntityURI: function() {\n   return this.props.data.find( (el)=> el.name == this.props.searchAgainst)[ENTITY_TYPE].default; \n  },\n  handleDataReturn: function(data, title,html) {\n    this.props.showObjectGraph(data, title,html);\n    this.setState({modalLoading: false})\n  },\n  generateObjectData: function(type=\"ttl\") {\n    var objIndex = this.props.data.findIndex( (el)=> el.name == this.props.searchAgainst)  \n    return {\n      endpoint: this.props.data[objIndex].endpoint,\n      crm: this.props.data[objIndex].predicate,\n      values: {entity_uri: this.getCurrentEntityURI()},\n      entity_type: ENTITY_TYPE,\n      return_type: type\n    }\n  },\n\n  render: function() {\n    let title = ENTITY_TYPE;\n\n    let sourceButtons = this.props.data.map((source, index) => {\n      return (<Button \n        active={this.props.searchAgainst == source.name} \n        onClick={() =>this.props.setSearch(source.name)}\n        key={index}\n      >\n        {source.name}\n      </Button>)\n    });\n\n    let topButtons = (\n      <ButtonGroup bsSize=\"small\" role=\"group\" className='search_buttons'>\n        {sourceButtons}\n      </ButtonGroup>\n    )\n\n    let bottomButtons = (\n        <ButtonGroup bsSize=\"small\" role=\"group\" className='download_buttons'>\n          <Button\n             data-type=\"ttl\"\n             data-modal-title=\"Entity as Linked Open Data (in Turtle)\"\n             disabled= {this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Turtle\n          </Button>\n          <Button\n             data-type=\"nested_ttl\"\n             data-modal-title=\"Entity as Turtle (Nested Graph with Blank Nodes)\"\n             disabled={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Turtle (Nested)\n          </Button>\n          <Button\n             data-type=\"json\"\n             data-modal-title=\"JSON Representation of the Entity\"\n             disabled ={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            JSON\n          </Button>\n          <Button\n             data-type=\"report\"\n             data-modal-title=\"Entity Validation Report\"\n             disabled ={this.state.modalLoading}\n             onClick={this.loadObjectData}>\n            Report\n          </Button>\n        </ButtonGroup>\n    )\n\n    return (\n      <HeaderWrapper \n          title={title} \n          bottomButtonsLabel=\"Current SPARQL Endpoint:\"\n          bottomButtons={topButtons} \n          topButtonsLabel={this.state.modalLoading ? \"Processing...\" : \"Export Entity As:\"} \n          topButtons={bottomButtons}\n      >\n        <SearchInputField \n          func={this.props.setEntityUri} \n          value={Constants.ENTITY_FIELD_NAME} \n          default={this.getCurrentEntityURI()} \n          title=\"Current Entity URI\"\n          stacked />\n      </HeaderWrapper>\n    )\n  }\n});\n\nexport default Header;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/header.jsx\n **/","import React from 'react';\n\n\nexport default function(props){\n\n  return (\n    <header className=\"container-fluid page_header hidden-print\">\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"pull-left logo\"><a href=\"/\"><img src=\"/images/aac_logo.png\"/></a></div>\n          <h1>AAC Mapping Validator</h1>\n          <h2>{props.title}</h2>\n        </div>\n      </div>\n      <div className=\"row header_interface\">\n        <div className=\"col-sm-6 col-lg-4 col-lg-offset-2 \">\n          {props.children}\n        </div>\n        <div className=\"col-sm-5 col-lg-6\">\n          <div className=\"pull-left\">\n            <label className=\"btn_group_label\">{props.bottomButtonsLabel}</label>\n            <div className=\"btn-toolbar\">\n              {props.bottomButtons}\n            </div>\n          </div>\n          <div className=\"pull-right\">\n            <label className=\"btn_group_label\">{props.topButtonsLabel}</label>\n            <div className=\"btn-toolbar\">\n              {props.topButtons}\n            </div>\n          </div>\n        </div>\n      \n      </div>\n    </header>\n  )\n};\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/header_wrapper.jsx\n **/","import React from 'react';\n\nexport default React.createClass({\n  getInitialState: function() {\n    return {value: (this.props.default || \"\")}\n  },\n  handleChange: function(e) {\n    this.setState({value: e.target.value});\n  },\n  handleKeyDown: function(e) {\n    console.log(e.keyCode);\n    if(e.keyCode == 13 && this.props.func){\n      this.props.func(this.state.value);\n      e.preventDefault();\n    }\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.default != this.props.default) {\n      this.setState({value: (nextProps.default || \"\")});\n    }\n  },\n  render: function() {\n   \n    let id_val=`sparql_${this.props.value}`;\n    let title = this.props.title || this.props.value.replace(/_/g, \" \");\n    let placeholder=`Enter a ${title}`;\n    let default_value = this.props.default;\n\n    let the_input = (\n      <input \n        type=\"text\" \n        className=\"form-control\" \n        name={this.props.value} \n        id={id_val} \n        placeholder={placeholder} \n        value={this.state.value} \n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n      />\n    )\n\n    let the_link = <a className=\"search_link\" href={this.state.value} target=\"_blank\">(link)</a>\n \n    let the_label = <label htmlFor={id_val} style={{\"textTransform\": \"capitalize\"}}>{title}:</label>\n\n\n    if(this.props.stacked) {\n      return (\n      <div className=\"form-group form-group-sm\">\n        {the_label} {the_link}\n        <div className=\"input-group\">\n          {the_input}\n          <span className=\"input-group-btn\">\n            <button \n              className=\"btn btn-sm btn-default\" \n              type=\"button\"\n              onClick={()=>(this.props.func(this.state.value))}\n              >\n              Search</button>\n          </span>\n        </div>\n      </div>\n      )\n    }\n\n    return (\n      <div className=\"form-group\">\n          <div className=\"col-sm-3 col-md-offset-1 text-right\">\n            {the_label}\n          </div>\n          <div className=\"col-sm-7\">\n            {the_input}\n          </div>\n          <div className=\"col-sm-1 hidden-print\">\n            {the_link}\n          </div>\n      </div>\n    )\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/search_input_field.jsx\n **/","export default {\n  ENTITY_FIELD_NAME: \"entity_uri\"\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/lib/constants.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  let y = new Date().getFullYear();\n  let copyright_year =  y == 2016 ? \"2016\" : `2016-${y}`;\n  return (\n  <footer>\n    <p>\n      Developed by <a href=\"http://www.designforcontext.com\" target=\"_blank\">Design for Context</a>.  Copyright ¬© {copyright_year}.\n    </p>\n    <p>\n      This is a project of the <a href=\"http://americanartcollaborative.org/\" target=\"_blank\">American Art Collaborative</a>.\n      Source code available on <a href=\"https://github.com/workergnome/aac_mappings\" target=\"_blank\">Github</a>.\n    </p>\n  </footer>\n  )\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/footer.jsx\n **/","/******************************************************************************\n*\n*  This is a wrapper class for the main item display screen.  \n*  No functionality, no state.  Just sending properties where they belong.\n*  \n******************************************************************************/\n\nimport React from 'react';\n\nimport ItemTitle    from './title.jsx';\nimport SparqlSearch from './sparql_search.jsx';\nimport ItemMapping  from './mapping.jsx';\n\nexport default function(props) {\n\n  return (\n    <div className=\"col-sm-9 col-lg-8 col-lg-offset-1 app\">\n\n      <ItemTitle \n        title={props.title}\n        mandatory={props.mandatory}\n        multiples={props.multiples}\n        description={props.long_description ? props.long_description : props.description}\n        example={props.example}\n        lod_type={props.lod_type}\n      />\n\n      <SparqlSearch {...props}/>\n\n      <ItemMapping fieldTitle={props.title} construct={props.construct} extras={props.graph_extras} showModal={props.showModal}/>\n    </div>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/item_display.jsx\n **/","/******************************************************************************\n*\n*  This is the Item Display title section, with the badges and the metadata.\n*  No functionality, just a display template.\n*  \n******************************************************************************/\n\nimport React from 'react';\n\nexport default  function(props) {\n\n  let lod_terms = null;\n  if (props.lod_type && props.lod_type.count){\n    lod_terms = props.lod_type.map((obj,i) => (<a href={obj} key={i} target=\"_blank\">{obj} </a>))\n  } else {\n    lod_terms = props.lod_type\n  }\n\n  return (\n    <section className=\"field_info\">\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <h2 className=\"field_name\">\n            {props.title}\n            {/*\n            <span className='badge'>{props.mandatory ? \"Mandatory\" : \"\"}</span>\n            <span className='badge'>{props.multiples ? \"\" : \"Only One Allowed\"}</span>\n            */}\n          </h2>\n          <p className=\"main_desc\">{props.description}</p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <dl className=\"dl-horizontal\">\n            <dt>Mandatory:</dt>\n            <dd>{props.mandatory ? \"Yes\" : \"No\"}</dd>\n            <dt>Multiples:</dt>\n            <dd>{props.multiples ? \"Yes\" : \"No\"}</dd>\n            <dt>{props.lod_type ? \"Associated LOD Term:\" : \"\"}</dt>\n            <dd>{lod_terms}</dd>\n            <dt className=\"hidden\">Sample Data: </dt>\n            <dd className=\"hidden\">{props.example}</dd>\n          </dl>\n        </div>\n      </div>\n    </section>\n  );\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/title.jsx\n **/","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport $ from \"jquery\";\n\nimport ModalTrigger     from '../widgets/modal_trigger.jsx'\nimport SparqlResults    from './sparql_results.jsx'\nimport SearchInputField from '../widgets/search_input_field.jsx'\n\n\nvar SparqlSearch = React.createClass({\n\n  getInitialState: function() {\n    return {results: false, isSearching: false}\n  },\n  componentDidMount: function() {\n    this.autoSearch();\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.title != this.props.title) {\n      this.setState({results: false});\n    }\n  },\n  componentDidUpdate: function(prevProps) {\n    if (prevProps.title != this.props.title || \n        prevProps.search.endpoint != this.props.search.endpoint ||\n        prevProps.currentEntity != this.props.currentEntity) {\n      this.autoSearch();  \n    }\n  },\n\n  autoSearch: function(e=null){\n    if (e) {e.preventDefault();}\n    let obj = $(\"#search_form\").serializeArray();\n    this.doSearch(obj);\n  },\n\n  doSearch: function(obj) {\n    if(!this.props.currentEntity){ return false;}\n    \n    let val = {entity_uri: this.props.currentEntity};\n\n    obj.forEach(v => {\n      val[v.name] = v.value;\n    });\n\n    let submission = {\n      fields: {\n        select: this.props.select,\n        construct: this.props.construct,\n        where: this.props.where,\n        values: this.props.values\n      },\n      endpoint: this.props.search.endpoint,\n      crm: this.props.search.predicate,\n      values: val\n    }\n    $.post(\"/search\", submission, this.handleResults);\n    this.setState({isSearching: true});\n  },\n\n  handleResults: function (data) {\n    this.setState({results: data, isSearching: false});\n  },\n\n  render: function() {\n    if (!this.props.currentEntity) return false;\n\n    // Generate the list of needed parameters\n    let cols = this.props.values.split(\" \").filter((val) => val != \"?entity_uri\")\n\n    // Generate the secondary input boxes\n    let input_boxes = \"\";\n    input_boxes = cols.map((value) => {  \n      let field_name = value.replace(\"?\",\"\");\n      let default_value = this.props[`test_${field_name}`];\n      return (\n        <SearchInputField \n            key={field_name} \n            value={field_name} \n            default={default_value}\n        />\n      )\n    });\n\n    // Wrap the secondary input boxes in boilerplate\n    let query_fields = cols.length == 0 ? \"\" : (\n      <div className=\"row\">\n        <div className=\"col-md-12 col-lg-10 col-lg-offset-1\">\n          <h5>Query-Specific URIs:</h5>\n          <form id=\"search_form\" className=\"form-horizontal\" onSubmit={this.state.isSearching ? null :this.autoSearch}>\n            {input_boxes}\n          </form>\n        </div>\n      </div>\n    )\n\n    // Generate the title\n    let the_title = <h4>{this.props.title} for <a href={this.props.currentEntity} className=\"entity_uri_label\" target=\"_blank\">{this.props.currentEntity.replace(/https?:\\/\\//,\"\")}</a></h4>;\n\n    return (  \n      <section className=\"search\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            {the_title}\n          </div>\n        </div>\n        <SparqlResults search={this.props.search}  title={this.props.title} select={this.props.select} results={this.state.results} showModal={this.props.showModal} />\n        {query_fields}    \n      </section>\n    );\n  }\n});\n\n\n//-----------------------------------------------------------------------------\nexport default SparqlSearch;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/sparql_search.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  return (\n    <button  \n         className=\"btn btn-info btn-xs hidden-print\" \n         onClick={(e) => props.func(props.text, props.title)}>\n         {props.children}\n    </button>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/modal_trigger.jsx\n **/","/******************************************************************************\n*\n*  This builds the table of serach results.  \n*\n*  Assumes the following properties:\n*    results:   The results of the search.  Is an object.\n*    select:    The select portion of the sparql query.\n*    title:     The page title, used for the Github Issue submit\n*    showModal: The function to display a modal popup.\n* \n******************************************************************************/\n\nimport React from 'react';\n\nimport ModalTrigger     from '../widgets/modal_trigger.jsx'\nimport GithubIssue      from '../widgets/github_issue.jsx'\nimport {truncate}       from '../lib/helpers.jsx'\n\nexport default  React.createClass({\n  render: function() {\n    \n    let content = \"\"; // This will hold the content.\n\n    if (this.props.results) {\n\n      // Set up the table headers\n      let columns = this.props.select.split(\" \");\n      let table_headers = columns.map(function(select_item) {\n        return ( <th key={select_item} >{select_item.replace(\"?\",\"\")}</th>)\n      });\n\n      // Set up the table values\n      // \n\n      let table_rows = null;\n      if (this.props.results.values.length > 0) {\n        table_rows = this.props.results.values.map((result, i) => {\n          let cells = this.props.select.split(\" \").map((key) => {\n            let val = result[key.replace(\"?\",\"\")];\n            if(/^https?:\\/\\//.test(val)) {\n              if(/\\.(?:jpg|png|tif|tiff|svg)$/.test(val)) {\n                val = <a href={val} target='_blank'><img className='img-responsive' src={val} /></a>\n              }else {\n                val = <a href={val} target='_blank'>{truncate(val,50,this.props.search)}</a>\n              }\n            }\n            return (<td key={`${i}_${key}`}> {val}</td>)\n          });\n          return ( <tr key={i}>{cells}</tr>)\n        })\n      }\n      else {\n        table_rows = <tr><td colSpan={columns.length} className='no_results'>No results found.</td></tr>\n      }\n      content = (\n        <table className=\"table table-hover\">              \n          <thead><tr>{table_headers}</tr></thead>\n          <tbody>{table_rows}</tbody>\n        </table>\n      )\n\n    } else { // No search results\n      content = (\n        <table className=\"table table-hover\">              \n          <thead><tr><td>Searching</td></tr></thead>\n          <tbody><tr><td>...</td></tr></tbody>\n        </table>\n      )\n    }\n\n    return (\n      <div className=\"row results\">\n        <div className=\"col-md-10 col-md-offset-1\">\n          <div className=\"panel panel-default\">\n             {content}\n             <div className=\"panel-footer text-center hidden-printr\">\n               <div className=\"btn-group btn-group-xs \">\n                <ModalTrigger func={this.props.showModal} text={this.props.results.select} title=\"SPARQL Query\">\n                  Show this Query\n                </ModalTrigger>\n                <ModalTrigger func={this.props.showModal} text={this.props.results.object} title=\"Results as Linked Open Data\">\n                  Show this as Turtle\n                </ModalTrigger>\n               </div>\n               <GithubIssue title={this.props.title} query={this.props.results.select}/>\n             </div>\n          </div>  \n        </div>\n      </div>\n    )\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/sparql_results.jsx\n **/","import React from 'react';\n\nexport default function(props) {\n  let issueTitle = encodeURIComponent(\"Problem with mapping of \" + props.title)\n  let issueBody = encodeURIComponent(\"I expected to see:\\n\\n*[WHAT I EXPECTED]*\\n\\nbut instead I saw:\\n\\n*[WHAT I SAW]*\\n\\nThe current query was:\\n\\n```ttl\\n\"+props.query+\"\\n```\")\n  let issueLinkUrl = `https://github.com/american-art/aac_mappings/issues/new?title=${issueTitle}&body=${issueBody}`\n\n  return (\n    <div className=\"github_issue_link\">\n      <a href={issueLinkUrl}>Do you see a problem with this?  Submit an issue.</a>\n    </div>\n  )\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/github_issue.jsx\n **/","\nexport function truncate(str,len,search=null) {\n  if (search) {\n    let predicates = {};\n    Object.assign(predicates, search.prefix, {\"crm\": search.predicate, \"aat\": \"http://vocab.getty.edu/aat/\"});\n    Object.keys(predicates).forEach((key) => {\n      let val = predicates[key];\n      if (str.includes(val)) {\n        str = str.replace(val,`${key}:`);    \n      }\n    });\n  }\n  if (str.length <=len) { return str;}\n\n  return `${str.substring(0,len-3)}...`\n}\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/lib/helpers.jsx\n **/","import React from 'react';\nimport $ from \"jquery\";\nimport ModalTrigger from '../widgets/modal_trigger.jsx'\n\n\nvar ItemMapping = React.createClass({\n\n  getInitialState: function() {\n    return {svg: \"\"}\n  },\n  componentWillReceiveProps: function(nextProps){\n    if (nextProps.construct != this.props.construct) {\n      this.getSvg(nextProps);\n    }\n  },\n  componentDidMount: function() {\n    this.getSvg(this.props)\n  },\n\n  getSvg: function(data) {\n    if (!data.construct) return false;\n    this.setState({svg: \"\"})      \n    $.post(\"/graph\", {ttl: data.construct, extras: data.extras}, (svg_url) => this.setState({svg: svg_url}) );\n  },\n\n\n  render: function() {\n\n    let svgImage = this.state.svg ? <img className=\"img-responsive center-block\" src={this.state.svg} /> : <p className='textCenter'>Loading Diagram...</p>\n\n    let btn = \"\";\n    if (this.state.svg) {\n      btn = (\n        <div className=\"row\">\n          <div className=\"col-lg-10 col-lg-offset-1 text-center\">\n            <ModalTrigger \n              func={this.props.showModal} \n              text={this.props.construct} \n            >\n              Show Mapping as Turtle\n            </ModalTrigger>\n          </div>\n        </div>\n        )\n    }\n\n    return (\n      <section className=\"illustration\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <h4>AAC Target Mapping For <strong>{this.props.fieldTitle}</strong></h4>\n          </div>\n          <div className=\"col-md-10 col-md-offset-1\">\n            <div className=\"illustration_wrapper\">\n              {svgImage} \n            </div>\n          </div> \n        </div>\n        {btn}\n      </section>\n    );\n  }\n});\n\nexport default ItemMapping;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/item/mapping.jsx\n **/","import $           from \"jquery\";\nimport React       from 'react';\nimport {Modal, Button}     from 'react-bootstrap';\nimport {truncate}       from '../lib/helpers.jsx'\n\n\nconst ContentModal = React.createClass({\n  render() {\n\n    const modalProps = Object.assign({}, this.props);\n    delete modalProps.content;\n    delete modalProps.title;\n    delete modalProps.html;\n    delete modalProps.search;\n\n    let content = this.props.content || \"Nothing to see here...\"\n    if (this.props.html) {\n    \n      content = content.replace(/<a(.*?)>(.+?)<\\/a>/gi,(_,m1,m2) => `<a${m1}>${truncate(m2,50,this.props.search)}</a>`)\n      let contentObj = {__html: content};\n\n\n      content = <div className=\"row\"><div className=\"col-sm-12\"><div dangerouslySetInnerHTML={contentObj}/></div></div>\n    } else {\n      content = <pre>{content}</pre>\n    }\n\n    return (\n      <Modal {...modalProps} bsSize=\"large\" aria-labelledby=\"contained-modal-title-lg\">\n        <Modal.Header closeButton={true} >\n          <h4>{this.props.title}</h4>\n        </Modal.Header>\n        <Modal.Body>\n          {content}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onHide}>Close</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n});\n\nexport default ContentModal;\n\n\n/** WEBPACK FOOTER **\n ** ./site/react/widgets/content_modal.jsx\n **/"],"sourceRoot":""}